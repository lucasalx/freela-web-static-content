import{r as x,j as e,U as y,L as t,s as b,t as j,v,w as C,x as N,y as g,z as w}from"./vendor-LjbCKWXj.js";import{M as A}from"./Menu-DRGOrukd.js";import{u as S,a as z,A as k}from"./index-BpyeDjJi.js";function H(){const{authToken:n,authAdmin:o,logout:m}=S(),{dispatch:u}=z(),c=x.useRef(!1),f=Array.from({length:5}),h=async(r,s)=>{if(n){const a=s.getKey("auth"),d=s.getKey("p256dh");if(a&&d){const p={endpoint:s.endpoint,keys:{auth:btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(a)))),p256dh:btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(d))))},createdAt:new Date,adminId:r},l=await k.request({origin:"Web",method:"POST",url:"/admins/notification-subscriptions",data:p,authToken:n});if(l.success&&l.data)return!0;{let i="";return l.statusCode!==404?i="Houve um erro inesperado ao salvar a assinatura de notificação de administrador":i="Houve um erro ao salvar a assinatura de notificação de administrador",u({type:"SHOW_ALERT",payload:{type:"error",text:i}}),!1}}else console.error("Authentication keys not found")}return!1};return x.useEffect(()=>{!o||c.current||(c.current=!0,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(async r=>{if(console.log("Service Worker pronto, scope: ",r.scope),await Notification.requestPermission()!=="granted"){console.warn("Notificações negadas pelo usuário");return}const a=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BDaAHff3qEShIRpC0_hm-uDDX3UzXzpZ7tl39isONVcxoi8lNXFpM4lieOUJOOAlI9_VUEi2Hhh4ZW2syKpTL4Q"});await h(o.id,a)}).catch(r=>{console.error("Erro no processo de inscrição de notificações: ",r)}))},[o]),e.jsxs(e.Fragment,{children:[e.jsx(A,{}),o?e.jsx("div",{className:"w-full min-h-screen py-32 bg-secondaryColor desktop:px-96 laptop:px-44 tablet:px-20 mobile:px-2 mobile:pt-10 mobile:pb-16",children:e.jsxs("div",{className:"flex flex-row justify-start mobile:flex-col mobile:justify-center",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"flex items-center justify-center rounded-full w-52 mobile:w-28 mobile:h-28 h-52 bg-quinaryColor",children:e.jsx(y,{className:"text-tertiaryColor",size:80})}),e.jsx("div",{className:"flex flex-col justify-end ml-14 mobile:ml-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-3xl font-semibold text-tertiaryColor font mobile:text-2xl",children:"Olá"}),e.jsx("span",{className:"text-4xl font-semibold text-primaryColor font mobile:text-3xl",children:o.name})]})})]}),e.jsx("button",{className:"text-lg font-semibold text-tertiaryColor hover:text-primaryColor",onClick:()=>m(),children:"Sair"})]}),e.jsx("div",{className:"w-full mt-10 text-2xl font-bold text-center text-primaryColor",children:"PAINEL GERENCIAL"}),e.jsxs("div",{className:"flex flex-wrap items-end justify-around w-full mt-10",children:[e.jsxs(t,{to:"/admin/cadastros",className:"flex flex-col items-center justify-around tablet:w-[45%] mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Cadastros"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{size:44})})]}),e.jsxs(t,{to:"/admin/cursos",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] mt-10 h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Cursos"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(j,{size:44})})]}),e.jsxs(t,{to:"/admin/contratantes",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Contratantes"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{size:44})})]}),e.jsxs(t,{to:"/admin/freelancers",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Freelancers"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{size:44})})]}),e.jsxs(t,{to:"/admin/financeiro",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Financeiro"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(N,{size:42})})]}),e.jsxs(t,{to:"/admin/avaliacoes",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Avaliações"}),e.jsx("div",{className:"flex justify-between",children:f.map((r,s)=>e.jsx(g,{size:35},s))})]}),e.jsxs(t,{to:"/admin/seguro-iza",className:"flex flex-col items-center justify-around tablet:w-[45%] mt-10 mobile:w-[80%] h-36 border-2 rounded-lg px-4 py-6 border-tertiaryColor text-tertiaryColor transition-all duration-300 ease-in-out scale-100 hover:scale-110 hover:border-primaryColor hover:text-primaryColor",children:[e.jsx("span",{className:"text-lg font-semibold text-center",children:"Seguro Iza"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(w,{size:44})})]})]})]})}):e.jsx("div",{className:"w-screen h-screen bg-secondaryColor text-tertiaryColor"})]})}export{H as AdminHome};
