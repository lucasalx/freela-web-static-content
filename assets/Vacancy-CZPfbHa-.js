var Ke=Object.defineProperty;var Ze=(a,t,f)=>t in a?Ke(a,t,{enumerable:!0,configurable:!0,writable:!0,value:f}):a[t]=f;var ke=(a,t,f)=>Ze(a,typeof t!="symbol"?t+"":t,f);import{r as o,j as e,D as xe,d as pe,au as ye,av as he,e as Ce,a4 as be,y as ve,C as X,aH as Xe,aI as Ye,aJ as ea,aK as aa,aL as ta,aM as sa,aN as ra,aO as oa,aP as ia,aQ as na,aR as la,aS as ca,E as da,T as Ie,F as Pe,J as ua,K as fa,M as ma,P as Le,aA as xa,aB as Re,Q as pa,V as ya,X as ha,Y as ba,a1 as ga,a2 as ja,as as Ca,aT as va,aU as wa,a3 as Na,a6 as Ta}from"./vendor-LjbCKWXj.js";import{D as ee,M as ce}from"./monetaryUtil-Ccsb3nQ9.js";import{u as fe,A as C,a as we}from"./index-BpyeDjJi.js";import{u as Ae}from"./useConfirmation-EKFoT3NN.js";import{S as Be}from"./images-Bf77nNy9.js";import{L as Sa}from"./Loading-Cd5r56ie.js";import{s as ka}from"./successAnimation-C1ByJTMN.js";function Ia({...a}){const{authToken:t}=fe(),f=o.useRef(!1),[d,v]=o.useState(null),[p,T]=o.useState(null),[F,O]=o.useState([]),[h,B]=o.useState(!0),J=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/providers/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},G=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/users/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},b=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/vacancies/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},A=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/jobs/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},g=l=>e.jsx("img",{src:l,alt:"Imagem de perfil do Freelancer que se candidatou",className:"rounded-full w-14 h-14"}),S=()=>e.jsx("div",{className:"flex w-full h-full mt-1",children:h?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx(X,{weight:"bold",className:"w-14 h-14 animate-spin text-tertiaryColor"})}):F.length===0?e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-10 text-center text-tertiaryColor",children:"Nenhum feedback encontrado"}):e.jsx("div",{className:"flex flex-col items-start justify-start w-full h-full",children:F.map(l=>e.jsxs("div",{className:"flex flex-col items-start justify-start w-full p-2 mt-3 border-2 rounded-lg min-h-10 border-primaryColor",children:[e.jsxs("div",{className:"flex flex-row items-start justify-start",children:[e.jsx("div",{className:"flex items-center justify-center w-full h-full font-bold",children:g(l.provider.image)}),e.jsxs("div",{className:"flex flex-col ml-2",children:[e.jsx("div",{className:"text-tertiaryColor",children:l.provider.name}),e.jsxs("div",{className:"flex flex-row items-center mt-1",children:[e.jsx(be,{readOnly:!0,value:l.star,size:"small",emptyIcon:e.jsx(ve,{className:"text-quinaryColor",size:18})}),e.jsx("div",{className:"ml-4 text-sm text-tertiaryColor",children:ee.formatDateToBR(l.createdAt)})]})]})]}),e.jsx("div",{className:"flex items-center w-full mt-2 text-sm",children:e.jsx("div",{className:"block w-full px-2 py-1 bg-opacity-0 rounded-md shadow-sm text-tertiaryColor bg-secondaryColor",children:l.comment})})]},l.id))})}),L=async()=>{if(f.current=!0,t){const l=await C.request({origin:"Web",method:"GET",url:`/contractors/${a.contractorId}`,authToken:t});if(l.success&&l.data){const i=l.data;v(i);const y=await G(i.userId);if(y){T(y);const E=await C.request({origin:"Web",method:"GET",url:`/contractors/${i.id}/jobs/feedbacks`,authToken:t});if(E.success&&E.data){const U=E.data;if(U.length>0){const $=new Uint8Array(i.profileImage.data).buffer,_=new Blob([$],{type:"image/jpeg"}),D=URL.createObjectURL(_),I=[];for(const j of U){const V=await A(j.jobId);if(V){const q=await b(V.vacancyId);if(q){const H=await J(j.sender);if(H){const Q=new Uint8Array(H.profileImage.data).buffer,K=new Blob([Q],{type:"image/jpeg"}),Z=URL.createObjectURL(K),M=await G(H.userId);M&&I.push({id:j.id,job:{id:V.id,title:q.assignment,establishment:q.establishment},contractor:{id:i.id,image:D,name:y.name},provider:{id:H.id,image:Z,name:M.name},comment:j.comment,star:j.star,createdAt:j.createdAt})}}}}O(I),B(!1)}else O([]),B(!1)}}else T(null)}else v(null)}f.current=!1},R=()=>{v(null),T(null),O([]),B(!0)};return o.useEffect(()=>{R(),a.open&&(f.current||L())},[a.open]),e.jsx(e.Fragment,{children:d&&p&&e.jsxs(xe,{onClose:a.onClose,open:a.open,maxWidth:"xl",children:[e.jsx(pe,{className:"w-full text-xl font-bold text-center text-tertiaryColor bg-gradient-to-b from-primaryColor to-quaternaryColor",children:`Perfil de ${p.name.split(" ")[0]}`}),e.jsx(ye,{edge:"end",onClick:a.onClose,"aria-label":"close",sx:{position:"absolute",top:"12px",right:"20px"},children:e.jsx(he,{})}),e.jsx(Ce,{className:"bg-[#222]",children:e.jsxs("div",{className:"flex flex-col items-center tablet:w-[22rem] mobile:w-[16rem] h-96",children:[e.jsx("span",{className:"text-xl text-center text-tertiaryColor",children:"Histórico de feedback's"}),e.jsx("div",{className:"flex w-full h-full",children:S()})]})})]})})}function Pa({...a}){const t=()=>{let f=a.assignment;switch(f.includes("Músico")&&(f="Músico"),f){case"Auxiliar cozinha":return e.jsx(ca,{size:30,weight:"regular"});case"Auxiliar limpeza":return e.jsx(la,{size:28,weight:"regular"});case"Barista":return e.jsx(na,{size:28,weight:"regular"});case"Barman/Bartender":return e.jsx(ia,{size:28,weight:"regular"});case"Camareira":return e.jsx(oa,{size:28,weight:"regular"});case"Chapeiro(a)":return e.jsx(ra,{size:28,weight:"regular"});case"Cozinheira(o)":return e.jsx(sa,{size:28,weight:"regular"});case"Cumim":return e.jsx(ta,{size:28,weight:"regular"});case"Garçom":return e.jsx(aa,{size:28,weight:"regular"});case"Hostess/Recepcionista":return e.jsx(ea,{size:28,weight:"regular"});case"Músico":return e.jsx(Ye,{size:28,weight:"regular"});case"Segurança (Não armado)":return e.jsx(Xe,{size:28,weight:"regular"});default:return console.log("Unknown job assignment"),e.jsx(e.Fragment,{})}};return e.jsx("div",{className:"relative text-primaryColor",children:t()})}function La({...a}){const{authToken:t}=fe(),f=o.useRef(!1),[d,v]=o.useState(null),[p,T]=o.useState(null),[F,O]=o.useState([]),[h,B]=o.useState(!0),J=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/contractors/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},G=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/users/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},b=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/vacancies/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},A=async l=>{if(t){const i=await C.request({origin:"Web",method:"GET",url:`/jobs/${l}`,authToken:t});if(i.success&&i.data)return i.data}return null},g=l=>e.jsx("img",{src:l,alt:"Imagem de perfil do Freelancer que se candidatou",className:"rounded-full w-14 h-14"}),S=()=>e.jsx("div",{className:"flex w-full h-full mt-1",children:h?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx(X,{weight:"bold",className:"w-14 h-14 animate-spin text-tertiaryColor"})}):F.length===0?e.jsx("div",{className:"flex items-center justify-center w-full h-full mt-10 text-center text-tertiaryColor",children:"Nenhum feedback encontrado"}):e.jsx("div",{className:"flex flex-col items-start justify-start w-full h-full",children:F.map(l=>e.jsxs("div",{className:"flex flex-col items-start justify-start w-full p-2 mt-3 border-2 rounded-lg min-h-10 border-primaryColor",children:[e.jsxs("div",{className:"flex flex-row items-start justify-start",children:[e.jsx("div",{className:"flex items-center justify-center w-full h-full font-bold",children:g(l.contractor.image)}),e.jsxs("div",{className:"flex flex-col ml-2",children:[e.jsx("div",{className:"text-tertiaryColor",children:l.job.establishment}),e.jsxs("div",{className:"flex flex-row items-center mt-1",children:[e.jsx(be,{readOnly:!0,value:l.star,size:"small",emptyIcon:e.jsx(ve,{className:"text-quinaryColor",size:18})}),e.jsx("div",{className:"ml-4 text-sm text-tertiaryColor",children:ee.formatDateToBR(l.createdAt)})]})]})]}),e.jsx("div",{className:"flex items-center w-full mt-2 text-sm",children:e.jsx("div",{className:"block w-full px-2 py-1 bg-opacity-0 rounded-md shadow-sm text-tertiaryColor bg-secondaryColor",children:l.comment})})]},l.id))})}),L=async()=>{if(f.current=!0,t){const l=await C.request({origin:"Web",method:"GET",url:`/providers/${a.providerId}`,authToken:t});if(l.success&&l.data){const i=l.data;v(i);const y=await G(i.userId);if(y){T(y);const E=await C.request({origin:"Web",method:"GET",url:`/providers/${i.id}/jobs/feedbacks`,authToken:t});if(E.success&&E.data){const U=E.data;if(U.length>0){const $=new Uint8Array(i.profileImage.data).buffer,_=new Blob([$],{type:"image/jpeg"}),D=URL.createObjectURL(_),I=[];for(const j of U){const V=await A(j.jobId);if(V){const q=await b(V.vacancyId);if(q){const H=await J(j.sender);if(H){const Q=new Uint8Array(H.profileImage.data).buffer,K=new Blob([Q],{type:"image/jpeg"}),Z=URL.createObjectURL(K),M=await G(H.userId);M&&I.push({id:j.id,job:{id:V.id,title:q.assignment,establishment:q.establishment},contractor:{id:H.id,image:Z,name:M.name},provider:{id:i.id,image:D,name:y.name},providerAttendedJob:j.providerAttendedJob,comment:j.comment,star:j.star,createdAt:j.createdAt})}}}}O(I),B(!1)}else O([]),B(!1)}}else T(null)}else v(null)}f.current=!1},R=()=>{v(null),T(null),O([]),B(!0)};return o.useEffect(()=>{R(),a.open&&(f.current||L())},[a.open]),e.jsx(e.Fragment,{children:d&&p&&e.jsxs(xe,{onClose:a.onClose,open:a.open,maxWidth:"xl",children:[e.jsx(pe,{className:"w-full text-xl font-bold text-center text-tertiaryColor bg-gradient-to-b from-primaryColor to-quaternaryColor",children:`Perfil de ${p.name.split(" ")[0]}`}),e.jsx(ye,{edge:"end",onClick:a.onClose,"aria-label":"close",sx:{position:"absolute",top:"12px",right:"20px"},children:e.jsx(he,{})}),e.jsx(Ce,{className:"bg-[#222]",children:e.jsxs("div",{className:"flex flex-col items-center tablet:w-[22rem] mobile:w-[16rem] h-96",children:[e.jsx("span",{className:"text-xl text-center text-tertiaryColor",children:"Histórico de feedback's"}),e.jsx("div",{className:"flex w-full h-full",children:S()})]})})]})})}const Ra=()=>{const{authToken:a}=fe();return{getUser:async f=>{if(!a)return null;const d=await C.request({origin:"Web",method:"GET",url:`/users/${f}`,authToken:a});return d.success?d.data:null}}};function Ba({...a}){const{dispatch:t}=we(),{dispatch:f}=Ae(),[d,v]=o.useState(null),[p,T]=o.useState("asc"),[F,O]=o.useState("date"),[h,B]=o.useState(0),[J,G]=o.useState(10),[b,A]=o.useState(!1),[g,S]=o.useState(!1),[L,R]=o.useState(!1),[l,i]=o.useState(!1),y=()=>{A(!0),i(!0)},E=()=>{A(!1),i(!1)},U=(u,c)=>{u&&(T(F===c&&p==="asc"?"desc":"asc"),O(c))},$=(u,c)=>{if(u){const x=a.dataList.find(P=>P.id===c);x&&x.candidacy&&v(x)}},_=(u,c)=>{u&&B(c)},D=u=>{G(parseInt(u.target.value,10)),B(0)},I=da(Ie)(({theme:u})=>({[`&.${Pe.head}`]:{color:u.palette.common.black},[`&.${Pe.body}`]:{width:"100%",fontSize:14}})),j=async()=>{S(!0),d&&d.candidacy&&await a.callbackAccept(d.candidacy)?(S(!1),v(null)):S(!1)},V=async()=>{R(!0),f({type:"SHOW_CONFIRMATION",payload:{title:"Confirmar rejeição de candidatura",message:"Deseja rejeitar a candidatura?",onConfirm:async()=>{d&&d.candidacy&&(await a.callbackReject(d.candidacy)?(R(!1),v(null)):R(!1))},onCancel:()=>{R(!1)}}})},q=()=>{a.vacancyQuantity===a.acceptedCandidacies?(a.setFinalize(!0),a.callbackFinalize()):t({type:"SHOW_ALERT",payload:{type:"error",text:"Houve um erro ao finalizar a contratação"}})},H=()=>{var u,c;return e.jsx(e.Fragment,{children:d&&d&&e.jsxs(Re,{className:"bg-[#222] flex flex-col justify-center",children:[e.jsxs("div",{className:"flex flex-row justify-center w-full my-3",children:[e.jsx("span",{className:"text-base font-semibold text-center text-tertiaryColor",children:"1 selecionado"}),e.jsxs("div",{className:"flex flex-row items-center justify-center",children:[e.jsx("span",{className:"mx-2 text-base font-semibold text-center text-tertiaryColor",children:"-"}),e.jsxs("button",{onClick:y,className:"relative transition-colors duration-300 group text-tertiaryColor hover:text-primaryColor disabled:text-tertiaryColor/50",disabled:b||g||L||a.finalize,children:[e.jsx("span",{className:"text-base font-semibold",children:"Ver perfil"}),e.jsx("span",{className:`${b||g||L?"hidden":"absolute left-0 w-full h-[0.20rem] transition-transform duration-300 transform scale-x-0 rounded-full -bottom-1 bg-tertiaryColor group-hover:bg-primaryColor group-hover:scale-x-100"}`})]})]})]}),((u=d.candidacy)==null?void 0:u.status)==="stand by"&&e.jsxs("div",{className:"flex justify-between w-full my-3",children:[e.jsx("button",{className:"w-[46%] flex items-center justify-center h-12 font-bold transition-all duration-500 ease-in-out border-4 shadow-lg mobile:text-base border-errorColor shadow-errorColor/40 text-errorColor hover:text-tertiaryColor rounded-xl hover:bg-errorColor disabled:cursor-not-allowed disabled:bg-errorColor/80 disabled:text-tertiaryColor/80 disabled:border-errorColor/20",onClick:V,disabled:b||g||L||a.finalize,children:L?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(X,{weight:"bold",className:"w-6 h-6 mr-2 animate-spin"}),e.jsx("span",{children:"Recusando..."})]}):e.jsx("span",{children:"Recusar"})}),e.jsx("button",{className:"w-[46%] flex items-center justify-center h-12 font-bold transition-all duration-500 ease-in-out border-4 shadow-lg mobile:text-base border-successColor shadow-successColor/40 text-successColor hover:text-tertiaryColor rounded-xl hover:bg-successColor disabled:cursor-not-allowed disabled:bg-successColor/80 disabled:text-tertiaryColor/80 disabled:border-successColor/20",onClick:j,disabled:b||g||L||a.finalize,children:g?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(X,{weight:"bold",className:"w-6 h-6 mr-2 animate-spin"}),e.jsx("span",{children:"Aceitando..."})]}):e.jsx("span",{children:"Aceitar"})})]}),((c=d.candidacy)==null?void 0:c.status)==="accepted"&&e.jsx("div",{className:"flex items-center justify-center w-full mb-3",children:e.jsx("span",{className:"font-semibold text-successColor",children:`Candidatura aceita em ${ee.formatDateAndTimeToBR(d.candidacy.date)}.`})})]})})},Q=()=>e.jsxs(Re,{className:"bg-[#222] flex flex-col justify-start",children:[e.jsx("div",{className:"flex flex-row justify-start w-full mt-3",children:e.jsx("span",{className:"text-base font-semibold text-center text-primaryColor",children:`Nº de contratações: ${a.acceptedCandidacies}/${a.vacancyQuantity}`})}),e.jsx("div",{className:"flex items-center justify-center w-full my-3",children:e.jsx("button",{className:"w-[65%] flex items-center justify-center h-12 font-bold transition-all duration-500 ease-in-out border-4 shadow-lg mobile:text-base border-primaryColor shadow-primaryColor/40 text-primaryColor hover:text-tertiaryColor rounded-xl hover:bg-primaryColor disabled:cursor-not-allowed disabled:bg-primaryColor/50 disabled:text-tertiaryColor/80 disabled:border-primaryColor/10",onClick:q,disabled:b||g||L||a.vacancyQuantity!==a.acceptedCandidacies||a.finalize,children:a.finalize?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(X,{weight:"bold",className:"w-6 h-6 mr-2 animate-spin"}),e.jsx("span",{children:"Finalizando..."})]}):e.jsx("span",{children:"Finalizar contratação"})})})]}),K=[{id:" ",numeric:!1,disablePadding:!0,label:" "},{id:"name",numeric:!1,disablePadding:!1,label:"Nome"},{id:"city",numeric:!1,disablePadding:!1,label:"Cidade"},{id:"rating",numeric:!0,disablePadding:!1,label:"Avaliação"},{id:"date",numeric:!1,disablePadding:!1,label:"Data"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"}],Z=(u,c,x)=>{const P=w=>z=>{u(z,w)};return e.jsx(pa,{children:e.jsx(Le,{children:K.map(w=>e.jsx(Ie,{align:"left",padding:w.disablePadding?"none":"normal",sortDirection:x===w.id?c:!1,sx:{fontWeight:600},children:e.jsxs(ya,{active:x===w.id,direction:x===w.id?c:"asc",onClick:P(w.id),children:[w.label,x===w.id?e.jsx(ha,{component:"span",sx:ba,children:c==="desc"?"sorted descending":"sorted ascending"}):null]})},w.id))})})},M=u=>e.jsx("img",{src:u,alt:"Imagem de perfil do Freelancer que se candidatou",className:"w-16 h-16 rounded-lg"}),se=(u,c)=>e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[c!=="Não possuo"&&e.jsx("img",{title:"O freelancer é portador de deficiência",src:Be.disabledPeople.source,alt:Be.disabledPeople.alternativeText,className:"w-8 h-8 mr-2 rounded-full"}),e.jsx("span",{children:u})]}),re=u=>e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[e.jsx(be,{readOnly:!0,value:u}),u===0&&e.jsx("span",{className:"text-sm",children:"(Nenhuma avaliação)"})]}),N=()=>{v(null),T("asc"),O("date"),B(0),G(10),A(!1),S(!1),R(!1),i(!1),a.setFinalize(!1)};return o.useEffect(()=>{N()},[a.open]),e.jsxs(e.Fragment,{children:[e.jsxs(xe,{onClose:a.onClose,open:a.open,PaperProps:{sx:{margin:"0",width:"95%"}},disableScrollLock:!0,children:[e.jsx(pe,{className:"w-full text-xl font-bold text-center text-tertiaryColor bg-gradient-to-b from-primaryColor to-quaternaryColor",children:"Candidaturas"}),e.jsx(ye,{edge:"end",onClick:a.onClose,"aria-label":"close",sx:{position:"absolute",top:"12px",right:"20px"},disabled:b||g||L,children:e.jsx(he,{})}),H(),e.jsx(ua,{component:"div",className:"flex",children:e.jsxs(fa,{sx:{minWidth:700},"aria-label":"customized table",children:[Z(U,p,F),e.jsx(ma,{children:a.dataList.map(u=>{var w,z;const c=(d==null?void 0:d.id)===u.id;let x="#fff",P="";if((w=u.candidacy)!=null&&w.status)switch((z=u.candidacy)==null?void 0:z.status){case"stand by":x="#FF9E00",P="Aguardando";break;case"accepted":x="#03C03C",P="Aceita";break;case"rejected":x="#EC2300",P="Recusada";break;default:x="#fff",P=""}return e.jsxs(Le,{hover:!0,onClick:oe=>$(oe,u.id),role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,sx:{cursor:"pointer","&.Mui-selected":{backgroundColor:"rgba(255, 158, 0, 0.4)"},"&:hover":{backgroundColor:"rgba(255, 158, 0, 0.2)"},"&.Mui-selected:hover":{backgroundColor:"rgba(255, 158, 0, 0.5)"}},children:[e.jsx(I,{children:M(u.image)}),e.jsx(I,{align:"left",children:se(u.name,u.deficiency)}),e.jsx(I,{align:"left",children:u.city}),e.jsx(I,{align:"left",children:re(u.rating)}),e.jsx(I,{align:"left",children:u.date}),e.jsx(I,{align:"left",sx:{color:x,fontWeight:"bold"},children:P})]},u.id)})})]})}),e.jsx(xa,{rowsPerPageOptions:[5,10,25],component:"div",count:a.dataList.length,rowsPerPage:J,page:h,onPageChange:_,onRowsPerPageChange:D,labelRowsPerPage:"Linhas por página",labelDisplayedRows:({from:u,to:c,count:x})=>`Exibindo ${u}-${c} de ${x+(x>1?" linhas":" linha")}`}),Q()]}),b&&d&&e.jsx(La,{providerId:d.id,open:l,onClose:E})]})}class je{static camouflageStr(t,f){if(!t)throw new Error("str is required");if(!f)throw new Error("asterisksQuantity is required");let d="",v=0;if(t.length<f)throw new Error("str can't be smaller than asterisksQuantity");for(let p=0;p<t.length;p++)(t[p]>="a"&&t[p]<="z"||t[p]>="A"&&t[p]<="Z"||t[p]>="0"&&t[p]<="9")&&v<f?(d+="*",v++):d+=t[p];return d}}ke(je,"isLetter",t=>{if(!t)throw new Error("value is required");const f=t.charAt(t.length-1);return/[a-zA-Z]/.test(f)});function Aa({...a}){const{authToken:t}=fe(),{dispatch:f}=we(),[d,v]=o.useState(1),[p,T]=o.useState(null),[F,O]=o.useState([]),[h,B]=o.useState(null),[J,G]=o.useState(null),[b,A]=o.useState(null),[g,S]=o.useState(!1),[L,R]=o.useState(!1),[l,i]=o.useState(!1),[y,E]=o.useState(!1),[U,$]=o.useState(!1),[_,D]=o.useState(!0),[I,j]=o.useState(!1),[V,q]=o.useState(!0),H=async c=>{if(c.method==="creditCard"&&i(!0),$(!0),t&&a.jobs){const x=a.jobs[0].vacancyId;let P;c.method==="creditCard"&&h&&(P=h.id);const w={amount:c.amount,method:c.method,vacancyId:x,contractorCreditCardId:P},z=await C.request({origin:"Web",method:"POST",url:"/vacancies/jobs/payments",data:w,authToken:t});if(z.success&&z.data){const oe=z.data;if(c.method==="pix"){const ie=oe;G(ie.pixQrCode),A(ie.pixQrCodeImage)}await Q(x)}else c.method==="creditCard"&&i(!1),$(!1),a.callbackError()}},Q=async c=>{let x=null;const P=()=>{x&&(clearTimeout(x),x=null)};if(t){let w="pending";for(;w==="pending";){const z=await C.request({origin:"Web",method:"GET",url:`/vacancies/${c}/jobs/payments`,authToken:t});console.log({...z}),z.success&&z.data&&(w=z.data[0].status,w==="paid"?(P(),p==="creditCard"&&i(!1),i(!1),$(!1),E(!0),setTimeout(()=>{a.callbackSuccess()},6e3)):await new Promise(ie=>{x=setTimeout(ie,5e3)}))}}else P(),p==="creditCard"&&i(!1),$(!1),a.callbackError()},K=async()=>{a.jobs&&(d===1&&p==="pix"?(v(d+1),await H({method:p,amount:ce.reaisToCents(M())})):d===2&&p==="creditCard"&&h?await H({method:p,amount:ce.reaisToCents(M()),contractorCreditCardId:h.id}):v(d+1))},Z=()=>{d===1?T(null):v(d-1)},M=()=>{const c=a.jobs.reduce((x,P)=>x+ce.reaisToCents(P.value),0);return ce.centsToReais(c)},se=()=>{switch(p){case"pix":return"Pix";case"creditCard":return h?`Cartão de crédito - Final: ${h.cardNumber.slice(-4)}`:""}},re=()=>e.jsxs("div",{className:"flex flex-col w-full h-full",children:[e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-tertiaryColor",children:"Serviço:"}),e.jsx("span",{className:"text-tertiaryColor",children:" "+a.jobs[0].title})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-tertiaryColor",children:"Valor total:"}),e.jsx("span",{className:"text-tertiaryColor",children:" "+M()+" (taxa da plataforma inclusa)"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-tertiaryColor",children:"Método de pagamento:"}),e.jsx("span",{className:"text-tertiaryColor",children:" "+se()})]})]}),N=()=>{if(y)return e.jsxs("div",{className:"flex flex-col justify-center w-full h-full",children:[e.jsx("span",{className:"w-full text-xl font-semibold text-center text-successColor",children:"Pagamento concluído com sucesso"}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsx(Ca,{className:"w-80 h-80",animationData:ka,initialSegment:[0,120],loop:!1})})]});if(p)switch(p){case"creditCard":switch(d){case 1:return e.jsxs("div",{className:"flex flex-col w-full h-full px-2",children:[e.jsx("span",{className:"w-full mb-10 text-xl text-center text-tertiaryColor",children:"Escolha o cartão de crédito para processar o pagamento"}),V?e.jsx("div",{className:"flex items-start justify-center w-full h-full pt-10",children:e.jsx(X,{weight:"bold",className:"w-12 h-12 animate-spin text-tertiaryColor"})}):F&&F.length>0?F.map((c,x)=>e.jsxs("button",{onClick:()=>{B(c),K()},className:"flex flex-col w-56 px-4 py-6 transition-transform duration-500 scale-100 border-2 rounded-md border-tertiaryColor hover:border-primaryColor hover:scale-110",children:[e.jsx("div",{className:"w-full h-1 mb-2 rounded-md bg-tertiaryColor"}),e.jsx("span",{className:"text-tertiaryColor text-start",children:je.camouflageStr(c.cardNumber,c.cardNumber.length-7)}),e.jsx("span",{className:"text-tertiaryColor text-start",children:je.camouflageStr(c.cvv,c.cvv.length-1)})]},x)):e.jsx("div",{className:"flex items-center justify-center w-full h-10",children:e.jsx("span",{className:"text-tertiaryColor text-start",children:"Nenhum cartão de crédito cadastrado"})})]});case 2:return e.jsx(e.Fragment,{children:re()});default:return null}case"pix":switch(d){case 1:return e.jsx(e.Fragment,{children:re()});case 2:return e.jsxs("div",{className:"flex flex-col items-center w-full h-full px-2 overflow-hidden justify center",children:[e.jsx("span",{className:"w-full mb-1 text-xl text-center text-tertiaryColor whitespace-nowrap",children:"Código Pix:"}),J&&b?e.jsxs("div",{className:"flex flex-col items-center justify-center w-full overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-center w-64 h-64 p-1 bg-[#222]",children:e.jsx("img",{src:b,alt:"Pix QR Code",className:"w-full h-full max-w-full max-h-full"})}),e.jsx("div",{className:"flex flex-col items-center justify-center w-full mt-1 text-tertiaryColor",children:e.jsx("span",{className:"w-full overflow-hidden text-sm text-ellipsis whitespace-nowrap",children:J})}),e.jsx("div",{className:"flex flex-col items-center justify-center w-full mt-1",children:e.jsx(va,{text:J,onCopy:()=>{f({type:"SHOW_ALERT",payload:{type:"success",text:"QRCode copiado com sucesso"}})},children:e.jsx("button",{className:"font-semibold text-tertiaryColor hover:text-primaryColor",children:"Copiar código"})})})]}):e.jsx("div",{className:"flex items-start justify-center w-full h-full pt-10",children:e.jsx(X,{weight:"bold",className:"w-12 h-12 animate-spin text-tertiaryColor"})})]});default:return null}default:throw new Error("Invalid payment method")}else return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("span",{className:"text-xl text-center text-tertiaryColor",children:"Escolha a forma de pagamento"}),e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("button",{onClick:()=>T("pix"),className:"flex items-center justify-center h-12 mt-4 font-bold transition-all duration-500 ease-in-out border-4 shadow-lg mobile:text-base border-successColor shadow-successColor/40 text-successColor hover:text-tertiaryColor rounded-xl hover:bg-successColor mobile:w-full disabled:cursor-not-allowed disabled:bg-successColor/80 disabled:text-tertiaryColor/80 disabled:border-successColor/20",children:"Pix"})})]})},u=()=>{v(1),T(null),O([]),B(null),G(null),A(null),S(!1),R(!1),i(!1),E(!1),$(!1),D(!0),j(!1),q(!0)};return o.useEffect(()=>{u(),a.open},[a.open]),o.useEffect(()=>{if(p)switch(p){case"creditCard":switch(d){case 1:D(!1),j(!h);break;case 2:D(!0),j(!1);break}break;case"pix":switch(d){case 1:D(!0),j(!1);break;case 2:D(!1);break}break}},[p,d,h,J]),e.jsx(e.Fragment,{children:a.jobs&&e.jsxs(xe,{onClose:a.onClose,open:a.open,maxWidth:"xl",children:[e.jsx(pe,{className:"w-full text-xl font-bold text-center text-tertiaryColor bg-gradient-to-b from-primaryColor to-quaternaryColor",children:"Pagamento"}),e.jsx(ye,{edge:"end",onClick:a.onClose,"aria-label":"close",sx:{position:"absolute",top:"12px",right:"20px"},disabled:U,children:e.jsx(he,{})}),e.jsx(Ce,{className:"bg-[#222]",children:e.jsxs("div",{className:"flex flex-col items-center justify-around tablet:w-[22rem] mobile:w-[16rem] h-96",children:[e.jsx("div",{className:"flex w-full h-full",children:N()}),!y&&p&&e.jsxs("div",{className:"flex items-start justify-between w-full h-20 mx-auto mobile:pb-4",children:[e.jsxs("button",{type:"button",className:"flex flex-col items-center w-16",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:Z,disabled:l,children:[e.jsx(ga,{size:42,className:`transition-transform duration-500 ${g?"scale-110 text-primaryColor":"scale-100 text-tertiaryColor"}`}),e.jsx("span",{className:`mt-3 transition-transform duration-1000 ${g?"text-primaryColor":"text-tertiaryColor"}`,children:"Voltar"})]}),_&&e.jsxs("button",{type:"button",className:"flex flex-col items-center",onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),onClick:K,disabled:I||U,children:[e.jsx(ja,{size:42,className:`transition-transform duration-500 
                                                    ${I||U?"scale-110 text-tertiaryColor/50":`${L?"scale-110 text-primaryColor":"scale-100 text-tertiaryColor"}`}
                                                `}),e.jsx("span",{className:`mt-3 transition-transform duration-1000
                                                    ${I||U?"text-tertiaryColor/50":`${L?"text-primaryColor":"text-tertiaryColor"}`}
                                                `,children:p==="creditCard"?d===2?"Finalizar":"Próximo":d===1?"Finalizar":"Próximo"})]})]}),l&&e.jsx(Sa,{})]})})]})})}function qa({...a}){const{authToken:t}=fe(),{dispatch:f}=we(),{dispatch:d}=Ae(),{getUser:v}=Ra(),p=o.useRef(a.vacancy),T=o.useRef(null),F=o.useRef(!1),O=o.useRef(!1),[h,B]=o.useState(null),[J,G]=o.useState(""),[b,A]=o.useState(null),[g,S]=o.useState([]),[L,R]=o.useState(""),[l,i]=o.useState([]),[y,E]=o.useState([]),[U,$]=o.useState(!1),[_,D]=o.useState(!1),[I,j]=o.useState(!1),[V,q]=o.useState(!1),[H,Q]=o.useState(!1),[K,Z]=o.useState(!1),[M,se]=o.useState(!1),[re,N]=o.useState(!0),[u,c]=o.useState(!0),[x,P]=o.useState(null),w=async s=>{let r=null;if(t){const n=await C.request({origin:"Web",method:"GET",url:`/providers/${s}`,authToken:t});n.success&&n.data&&(r=n.data)}return r},z=async()=>{if(F.current=!0,t){const s=await C.request({origin:"Web",method:"GET",url:`/contractors/${a.vacancy.contractorId}`,authToken:t});if(s.success&&s.data){const r=s.data;B(r);const n=new Uint8Array(r.profileImage.data).buffer,m=new Blob([n],{type:"image/jpeg"}),k=URL.createObjectURL(m);k&&G(k)}else B(null)}},oe=async()=>{if(t&&a.provider){const s=await C.request({origin:"Web",method:"GET",url:`/providers/${a.provider.id}/vacancies/${a.vacancy.id}/candidacies`,authToken:t});if(s.success&&s.data){const r=s.data;A(r)}else A(null);N(!1),c(!1)}},ie=async()=>{if(t){const s=await C.request({origin:"Web",method:"GET",url:"/vacancies/candidacies",params:{vacancyId:a.vacancy.id},authToken:t});if(s.success&&s.data){const r=s.data;r.length>0?(S(r),R(r.length+(r.length===1?" candidatura":" candidaturas"))):(S([]),R("0 candidaturas"))}else S([]),R("0 candidaturas")}},Ee=async()=>{if(t){const s=[];if(g&&g.length>0)for(const r of g){const n=await w(r.providerId);if(n){const m=new Uint8Array(n.profileImage.data).buffer,k=new Blob([m],{type:"image/jpeg"}),W=URL.createObjectURL(k),ae=await v(n.userId);ae&&s.push({id:n.id,image:W,name:ae.name,city:n.city,phone:n.phoneMessage,rating:n.feedbackStars,deficiency:n.deficiency,date:ee.formatDateAndTimeToBR(r.date),candidacy:r})}}i(s)}},ge=async()=>{if(O.current=!0,t&&T.current){const s=await C.request({origin:"Web",method:"GET",url:"/vacancies/jobs",params:{vacancyId:a.vacancy.id},authToken:t});if(s.success&&s.data){const r=s.data;if(r&&r.length>0){const n=new Uint8Array(T.current.profileImage.data).buffer,m=new Blob([n],{type:"image/jpeg"}),k=URL.createObjectURL(m),W=await v(T.current.userId);if(W){const ae=[];for(const de of r){const Y=await w(de.providerId);if(Y){const te=new Uint8Array(Y.profileImage.data).buffer,ne=new Blob([te],{type:"image/jpeg"}),le=URL.createObjectURL(ne),ue=await v(Y.userId);ue&&ae.push({id:de.id,title:a.vacancy.assignment,value:a.vacancy.jobValue,status:de.status,date:a.vacancy.jobDate,time:a.vacancy.jobTime,contractor:{id:T.current.id,image:k,name:W.name,phoneNumber:W.phoneNumber,feedbackStars:T.current.feedbackStars},provider:{id:Y.id,image:le,name:ue.name,phoneNumber:ue.phoneNumber,feedbackStars:Y.feedbackStars,deficiency:Y.deficiency},vacancyId:a.vacancy.id})}}E(ae)}}else E([])}else E([]);N(!1)}},me=async(s,r,n=!1)=>{if(n){i(te=>te.filter(ne=>ne.id!==s));return}if(!r)return;const m=await w(s);if(!m)return;const k=await v(m.userId);if(!k)return;const W=new Uint8Array(m.profileImage.data).buffer,ae=new Blob([W],{type:"image/jpeg"}),de=URL.createObjectURL(ae),Y={id:m.id,image:de,name:k.name,city:m.city,phone:m.phoneMessage,rating:m.feedbackStars,deficiency:m.deficiency,date:ee.formatDateAndTimeToBR(r.date),candidacy:r};i(te=>{const ne=te.findIndex(le=>le.id===s);return ne!==-1?te.map((le,ue)=>ue===ne?{...le,...Y}:le):[...te,Y]})},De=async()=>{var s;D(!0),(s=a.setDisabledApplyCandidacyButton)==null||s.call(a,!0),setTimeout(async()=>{var r;await $e(),(r=a.setDisabledApplyCandidacyButton)==null||r.call(a,!1),D(!1),j(!1)},3e3)},He=()=>{j(!0),d({type:"SHOW_CONFIRMATION",payload:{title:"Confirmar cancelamento de candidatura",message:"Deseja cancelar a candidatura?",onConfirm:()=>{setTimeout(async()=>{var s;await qe(),j(!1),(s=a.setDisabledApplyCandidacyButton)==null||s.call(a,!1),D(!1)},3e3)},onCancel:()=>{var s;j(!1),(s=a.setDisabledApplyCandidacyButton)==null||s.call(a,!1),D(!1)}}})},ze=()=>{$(!0),d({type:"SHOW_CONFIRMATION",payload:{title:"Confirmar exclusão de vaga",message:"Deseja excluir a vaga permanentemente?",onConfirm:()=>{var s;(s=a.onRemoved)==null||s.call(a),$(!1)},onCancel:()=>{$(!1)}}})},Fe=async s=>{var r;if(t){const n=await C.request({origin:"Web",method:"PATCH",url:`/candidacies/${s.id}/accept`,authToken:t});if(n.success&&n.data)return await((r=a.onAcceptCandidacy)==null?void 0:r.call(a)),f({type:"SHOW_ALERT",payload:{type:"success",text:"Candidatura aceita com sucesso"}}),!0;{let m="";return n.statusCode!==404?n.statusCode===403?m="O limite candidaturas aceitas para essa vaga já foi atingido":m="Houve um erro inesperado ao aceitar a candidatura":m="Houve um erro ao aceitar a candidatura",f({type:"SHOW_ALERT",payload:{type:"error",text:m}}),!1}}return!1},Oe=async s=>{var r;if(t){const n=await C.request({origin:"Web",method:"PATCH",url:`/candidacies/${s.id}/reject`,authToken:t});if(n.success&&n.data)return await((r=a.onRejectCandidacy)==null?void 0:r.call(a)),f({type:"SHOW_ALERT",payload:{type:"success",text:"Candidatura recusada com sucesso"}}),!0;{let m="";return n.statusCode!==404?m="Houve um erro inesperado ao recusar a candidatura":m="Houve um erro ao recusar a candidatura",f({type:"SHOW_ALERT",payload:{type:"error",text:m}}),!1}}return!1},Ue=async()=>{if(t&&y&&y.length>0){const s=await C.request({origin:"Web",method:"GET",url:`/vacancies/${a.vacancy.id}/jobs/payments`,authToken:t});s.success&&s.data&&s.data[0].status==="paid"?await Ne():Ge()}},Ne=async()=>{var s;if(t&&y&&y.length>0){const r=await C.request({origin:"Web",method:"PATCH",url:`vacancies/${a.vacancy.id}/jobs/schedule`,authToken:t});if(r.success&&r.data)f({type:"SHOW_ALERT",payload:{type:"success",text:"A contratação foi finalizada"}}),Se(),Te(),await((s=a.onFinalizeHiring)==null?void 0:s.call(a));else{let n="";r.statusCode!==404?n="Houve um erro inesperado ao finalizar a contratação":n="Houve um erro ao finalizar a contratação",f({type:"SHOW_ALERT",payload:{type:"error",text:n}})}}},$e=async()=>{var s;if(t&&a.provider){const r={vacancyId:a.vacancy.id,providerId:a.provider.id,date:new Date,status:"stand by"},n=await C.request({origin:"Web",method:"POST",url:"/candidacies",data:r,authToken:t});if(n.success&&n.data)await((s=a.onApplyCandidacy)==null?void 0:s.call(a)),f({type:"SHOW_ALERT",payload:{type:"success",text:"Candidatura realizada com sucesso"}});else{let m="";n.statusCode!==404?n.statusCode===409?m="A vaga na qual você está tentando se candidatar não está mais disponível":n.statusCode===403?m="Não há mais candidaturas disponíveis para essa vaga":n.statusCode===410?m="Parece que você já possui um serviço para essa data":m="Houve um erro inesperado ao se candidatar":m="Houve um erro ao se candidatar",f({type:"SHOW_ALERT",payload:{type:"error",text:m}})}}},qe=async()=>{var s;if(t&&a.provider&&b){const r=await C.request({origin:"Web",method:"DELETE",url:`/candidacies/${b.id}`,authToken:t});r.success&&r.data?(await((s=a.onCancelCandidacy)==null?void 0:s.call(a)),f({type:"SHOW_ALERT",payload:{type:"success",text:"Candidatura cancelada com sucesso"}})):f({type:"SHOW_ALERT",payload:{type:"error",text:"Houve um erro ao cancelar a candidatura"}})}},We=()=>{se(!0)},Je=()=>{se(!1)},Me=()=>{Q(!0)},Te=()=>{Q(!1)},Ge=()=>{q(!0),Z(!0)},Se=()=>{q(!1),Z(!1)},Ve=()=>{let s;switch(a.vacancy.status){case"open":s="Aberta";break;case"in hiring":s="Em contratação";break;case"closed":s="Fechada";break;case"removed":s="Removida";break;default:console.error("Unknown vacancy status"),s="";break}return s},_e=()=>{let s="Vaga criada em: "+ee.formatDateAndTimeToBR(a.vacancy.createdAt);return a.profileType==="provider"&&b&&(s="Candidatura realizada em: "+ee.formatDateAndTimeToBR(b.date),b.status==="accepted"?s+=" (aceita pelo contratante)":b.status==="rejected"?s+=" (rejeitada pelo contratante)":s+=" (aguardando resposta)"),s},Qe=()=>{const s=Ta("https://freela-servicos.duckdns.org");P(s),s.on("contractorAcceptedCandidacy",async r=>{if(a.vacancy.id===r.vacancy.id){const n={id:r.id,status:r.status,date:r.date,vacancyId:r.vacancy.id,providerId:r.providerId};a.profileType==="contractor"?(N(!0),S(m=>{const k=m.findIndex(W=>W.id===n.id);if(k!==-1){const W=[...m];return W[k]={...W[k],...n},W}return[n,...m]}),await Promise.all([me(n.providerId,n),ge()]),setTimeout(()=>{N(!1)},1500)):a.profileType==="provider"&&a.provider.id===r.providerId&&(N(!0),c(!0),A(n),setTimeout(()=>{N(!1),c(!1)},1500))}}),s.on("contractorRejectedCandidacy",async r=>{if(a.vacancy.id===r.vacancy.id){const n={id:r.id,status:r.status,date:r.date,vacancyId:r.vacancy.id,providerId:r.providerId};a.profileType==="contractor"?(N(!0),S(m=>m.filter(k=>k.id!==n.id)),await Promise.all([me(n.providerId,n,!0),ge()]),setTimeout(()=>{N(!1)},1500)):a.profileType==="provider"&&a.provider.id===r.providerId&&(N(!0),c(!0),A(n),setTimeout(()=>{N(!1),c(!1)},1500))}}),s.on("providerCreatedCandidacy",async r=>{a.vacancy.id===r.vacancyId&&(a.profileType==="contractor"?(N(!0),S(n=>n.some(k=>k.id===r.id)?n:[r,...n]),await me(r.providerId,r),setTimeout(()=>{N(!1)},1500)):a.profileType==="provider"&&a.provider.id===r.providerId&&(N(!0),c(!0),A(r),setTimeout(()=>{N(!1),c(!1)},1500)))}),s.on("providerDeletedCandidacy",async({candidacyId:r,vacancy:n})=>{if(a.vacancy.id===n.id)if(a.profileType==="contractor"){N(!0),S(k=>k.filter(W=>W.id!==r));const m=g.find(k=>k.id===r);m&&await me(m.providerId,void 0,!0),setTimeout(()=>{N(!1)},1500)}else a.profileType==="provider"&&a.provider.id===r&&(c(!0),N(!0),b&&b.id===r&&A(null),setTimeout(()=>{c(!1),N(!1)},1500))})};return o.useEffect(()=>{p.current=a.vacancy},[a.vacancy]),o.useEffect(()=>{if(g&&g.length>0){Ee();let s=!1;const r=()=>{R(s?`${g.length} ${g.length===1?"candidatura":"candidaturas"}`:"Toque para ver!"),s=!s},n=setInterval(r,4e3);return r(),()=>clearInterval(n)}},[g]),o.useEffect(()=>{O.current||h&&(T.current=h,a.profileType==="contractor"&&ge())},[h]),o.useEffect(()=>{if(!F.current)return(async()=>{a.profileType==="contractor"?await Promise.all([z(),ie()]):a.profileType==="provider"&&await Promise.all([z(),oe()]),Qe()})(),()=>{x&&x.connected&&(x.off("contractorAcceptedCandidacy"),x.off("contractorRejectedCandidacy"),x.off("providerCreatedCandidacy"),x.off("providerDeletedCandidacy"),x.disconnect())}},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"relative flex w-full border-2 rounded-lg tablet:p-6 mobile:p-4 border-primaryColor",children:re?e.jsx("div",{className:"flex items-center justify-center w-full h-48",children:e.jsx(X,{weight:"bold",className:"w-10 h-10 animate-spin text-primaryColor"})}):e.jsxs("div",{className:"flex flex-col w-full",children:[a.profileType==="contractor"&&e.jsx("button",{title:"Remover vaga",className:"absolute flex items-center justify-center transition-all duration-300 ease-in-out rounded-full tablet:right-5 tablet:top-5 mobile:top-3 mobile:right-3 text-tertiaryColor hover:scale-110 hover:text-errorColor disabled:text-tertiaryColor/50 disabled:scale-100",onClick:ze,disabled:U,children:e.jsx(wa,{size:26,weight:"bold"})}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Pa,{assignment:`${a.vacancy.assignment}`}),e.jsx("span",{className:"ml-2 text-xl font-semibold text-center text-primaryColor",children:a.vacancy.assignment.toUpperCase()})]}),e.jsx("div",{className:"flex flex-row justify-between w-full mt-4",children:e.jsx("div",{className:"flex flex-col justify-start w-full",children:e.jsxs("div",{className:"flex flex-row items-center justify-start w-full h-24 border-2 rounded-e-full bg-secondaryColor ",children:[e.jsx("div",{className:"flex items-center w-[6.5rem] h-24 bg-primaryColor rounded-s-3xl",children:h&&J&&J!==""?e.jsx("img",{src:J,alt:`Imagem de perfil de ${h.corporateReason}`,className:"w-24 h-24 rounded-s-3xl "}):e.jsx(Na,{className:"mx-auto text-tertiaryColor",size:70})}),e.jsxs("div",{className:"flex flex-col items-start justify-start h-full ml-3",children:[e.jsx("span",{className:"w-full font-semibold text-tertiaryColor",children:a.vacancy.establishment}),h&&e.jsxs("div",{className:"flex items-center justify-start w-full mt-2",children:[e.jsx(be,{readOnly:!0,value:h.feedbackStars,size:"small",emptyIcon:e.jsx(ve,{className:"text-quinaryColor",size:18})}),h.feedbackStars===0&&e.jsx("span",{className:"text-sm",children:"(Nenhuma avaliação)"})]}),e.jsx("div",{children:e.jsx("button",{className:`text-xs font-semibold ${M?"text-primaryColor":"text-tertiaryColor"} hover:text-primaryColor`,onClick:We,children:"Ver avaliações"})})]})]})})}),e.jsx("div",{className:"mt-3 text-tertiaryColor",children:a.vacancy.description}),e.jsxs("div",{className:"mt-4 text-tertiaryColor",children:[e.jsx("span",{className:"font-semibold",children:"Localização:"}),h&&" "+h.city+" - "+h.uf]}),e.jsxs("div",{className:"mt-1 text-tertiaryColor",children:[e.jsx("span",{className:"font-semibold",children:"Data do serviço:"})," "+ee.formatDateAndTimeToBR(a.vacancy.jobDate)]}),e.jsxs("div",{className:"mt-1 text-tertiaryColor",children:[e.jsx("span",{className:"font-semibold",children:"Tempo de serviço:"})," "+a.vacancy.jobTime]}),e.jsxs("div",{className:"flex flex-row justify-between mt-1 text-tertiaryColor",children:[e.jsxs("div",{className:"",children:[e.jsx("span",{className:"font-semibold",children:a.profileType==="contractor"?"Valor a ser pago:":"Valor a receber:"})," "+(a.profileType==="contractor"?ce.getJobValueByProfile(a.profileType,a.vacancy.jobValue,a.vacancy.quantity):ce.getJobValueByProfile(a.profileType,a.vacancy.jobValue,void 0,"R$1,00"))]}),e.jsx("div",{children:a.profileType==="contractor"&&e.jsx("button",{type:"button",disabled:!g||g.length===0||U,className:"font-semibold text-end text-primaryColor disabled:text-tertiaryColor/50",onClick:Me,children:g&&L&&L.length>0&&L})})]}),e.jsxs("div",{className:"flex justify-between mt-1 text-tertiaryColor",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Status:"}),e.jsx("span",{className:`text-start font-semibold 
                                            ${a.vacancy.status==="open"?"text-successColor":a.vacancy.status==="in hiring"?"text-quaternaryColor":a.vacancy.status==="closed"?"text-[#a6a6a6]":a.vacancy.status==="removed"?"text-errorColor":"text-tertiaryColor"}
                                        `,children:" "+Ve()})]}),e.jsx("span",{className:`text-sm italic text-end ${b?b.status==="accepted"?"text-successColor":b.status==="rejected"?"text-errorColor":"text-primaryColor":"text-tertiaryColor"}`,children:_e()})]}),!u&&a.profileType==="provider"&&(b?b.status==="stand by"&&e.jsx("button",{onClick:He,className:"flex items-center justify-center h-12 mt-4 font-bold transition-all duration-300 ease-in-out border-4 shadow-lg mobile:text-base shadow-errorColor/40 border-errorColor text-errorColor rounded-xl hover:bg-errorColor mobile:w-full hover:text-tertiaryColor disabled:cursor-not-allowed disabled:bg-errorColor/80 disabled:text-tertiaryColor/80 disabled:border-errorColor/20",disabled:I,children:I?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(X,{weight:"bold",className:"w-6 h-6 mr-3 animate-spin"}),e.jsx("span",{children:"Cancelando..."})]}):e.jsx("span",{children:"Cancelar candidatura"})}):e.jsx("button",{onClick:De,className:"flex items-center justify-center h-12 mt-4 font-bold transition-all duration-500 ease-in-out border-4 shadow-lg mobile:text-base border-successColor shadow-successColor/40 text-successColor hover:text-tertiaryColor rounded-xl hover:bg-successColor mobile:w-full disabled:cursor-not-allowed disabled:bg-successColor/80 disabled:text-tertiaryColor/80 disabled:border-successColor/20",disabled:_||a.disabledApplyCandidacyButton,children:_?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(X,{weight:"bold",className:"w-6 h-6 mr-3 animate-spin"}),e.jsx("span",{children:"Candidatando..."})]}):e.jsx("span",{children:"Candidatar-se"})}))]})})}),l&&l.length>0&&e.jsx(Ba,{dataList:l,open:H,onClose:Te,vacancyQuantity:a.vacancy.quantity,acceptedCandidacies:y.length,callbackAccept:Fe,callbackReject:Oe,finalize:V,setFinalize:q,callbackFinalize:Ue}),h&&e.jsx(Ia,{contractorId:h.id,open:M,onClose:Je}),a.profileType==="contractor"&&y&&y.length>0&&e.jsx(Aa,{jobs:y,open:K,onClose:Se,callbackSuccess:Ne,callbackError:()=>{f({type:"SHOW_ALERT",payload:{type:"error",text:"Houve um erro ao processar o pagamento"}})}})]})}export{Ia as C,Pa as J,La as P,qa as V,Ra as u};
